(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11eeae51"],{"326a":function(t,a,e){},"412c":function(t,a,e){"use strict";e("326a")},e911:function(t,a,e){"use strict";e.r(a);var d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticStyle:{margin:"0 0 20px 0"}},[e("Button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.AddOrUpdate({})}}},[e("Icon",{attrs:{type:"md-add"}}),t._v(" 添加\n    ")],1),t._v("\n     \n    "),e("Button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.getList(1)}}},[e("Icon",{attrs:{type:"md-refresh"}}),t._v(" 更新\n    ")],1)],1),e("Table",{ref:"selection",attrs:{stripe:"",border:"",columns:t.columns,data:t.datas}}),e("Modal",{attrs:{"mask-closable":!1,title:t.addOrUpdateModal.title,width:600},model:{value:t.addOrUpdateModal.show,callback:function(a){t.$set(t.addOrUpdateModal,"show",a)},expression:"addOrUpdateModal.show"}},[e("Form",{ref:"EditVLWForm",attrs:{model:t.addOrUpdateModal.data,rules:t.ruleValidate,"label-width":80}},[e("FormItem",{attrs:{label:"名称",prop:"Name"}},[e("Input",{attrs:{placeholder:"输入名称，可自定义"},model:{value:t.addOrUpdateModal.data.Name,callback:function(a){t.$set(t.addOrUpdateModal.data,"Name",a)},expression:"addOrUpdateModal.data.Name"}})],1),e("FormItem",{attrs:{label:"微信Id",prop:"robot_wxid"}},[e("Input",{attrs:{placeholder:"通过VLW框架首页查看复制ID"},model:{value:t.addOrUpdateModal.data.robot_wxid,callback:function(a){t.$set(t.addOrUpdateModal.data,"robot_wxid",a)},expression:"addOrUpdateModal.data.robot_wxid"}})],1),e("FormItem",{attrs:{label:"Token",prop:"Token"}},[e("Input",{attrs:{placeholder:"VLW中的Token"},model:{value:t.addOrUpdateModal.data.Token,callback:function(a){t.$set(t.addOrUpdateModal.data,"Token",a)},expression:"addOrUpdateModal.data.Token"}})],1),e("FormItem",{attrs:{label:"Http地址",prop:"Http"}},[e("Input",{attrs:{type:"text",name:"Http",placeholder:"请填写HttApi for HTTP中的地址"},model:{value:t.addOrUpdateModal.data.Http,callback:function(a){t.$set(t.addOrUpdateModal.data,"Http",a)},expression:"addOrUpdateModal.data.Http"}})],1),e("FormItem",{attrs:{label:"开关选项"}},[e("Checkbox",{model:{value:t.addOrUpdateModal.data.Enable,callback:function(a){t.$set(t.addOrUpdateModal.data,"Enable",a)},expression:"addOrUpdateModal.data.Enable"}},[t._v("启用")]),e("Checkbox",{model:{value:t.addOrUpdateModal.data.AddFriend,callback:function(a){t.$set(t.addOrUpdateModal.data,"AddFriend",a)},expression:"addOrUpdateModal.data.AddFriend"}},[t._v("好友自动通过")])],1),e("FormItem",{attrs:{label:"监听群"}},[e("Input",{attrs:{type:"textarea",placeholder:"通过日志查看群ID，多个用英文逗号隔开"},model:{value:t.addOrUpdateModal.data.Groups,callback:function(a){t.$set(t.addOrUpdateModal.data,"Groups",a)},expression:"addOrUpdateModal.data.Groups"}})],1),e("FormItem",{attrs:{label:"好友欢迎"}},[e("Input",{attrs:{type:"textarea",name:"AddFriendMessage",placeholder:"自动通过好友后向好友发送欢迎语"},model:{value:t.addOrUpdateModal.data.AddFriendMessage,callback:function(a){t.$set(t.addOrUpdateModal.data,"AddFriendMessage",a)},expression:"addOrUpdateModal.data.AddFriendMessage"}})],1),e("FormItem",{attrs:{label:"备注"}},[e("Input",{attrs:{type:"textarea"},model:{value:t.addOrUpdateModal.data.Remark,callback:function(a){t.$set(t.addOrUpdateModal.data,"Remark",a)},expression:"addOrUpdateModal.data.Remark"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(a){t.addOrUpdateModal.show=!1}}},[t._v("取消")]),e("Button",{attrs:{type:"primary"},on:{click:function(a){return t.submitVLW("EditVLWForm")}}},[t._v("提交")])],1)],1)],1)},r=[],o=(e("7f7f"),e("66df")),l=function(){return o["a"].request({url:"/api/vlw",method:"get"})},n=function(t){return o["a"].request({url:"/api/vlw",data:t,method:"post"})},i=function(t){return o["a"].request({url:"/api/vlw/"+t,method:"delete"})},s={data:function(){var t=this;return{columns:[{type:"selection",width:60,align:"center"},{title:"名称",key:"Name",minWidth:120},{title:"微信Id",key:"robot_wxid",minWidth:120},{title:"Http",key:"Http",minWidth:120},{title:"状态",key:"Enable",width:80,render:function(t,a){return t("div",[t("span",{style:{color:a.row.Enable?"green":"red"}},a.row.Enable?"启用":"禁用")])}},{title:"好友验证",key:"Enable",width:90,render:function(t,a){return t("div",[t("span",a.row.AddFriend?"是":"否")])}},{title:"好友欢迎语",key:"AddFriendMessage",minWidth:120},{title:"备注",key:"Remark",minWidth:120},{title:"操作",key:"action",width:150,align:"center",render:function(a,e){var d=[];return d.push(a("i",{class:"fa fa-pencil",style:{color:"#ff6a00"},on:{click:function(){t.AddOrUpdate(e.row)}}})),d.push(a("i",{class:"fa fa-trash",style:{color:"#f00"},on:{click:function(){t.delete(e.row.Id)}}})),a("div",d)}}],datas:[],addOrUpdateModal:{show:!1,data:{Enable:!0},title:"添加VLW"},ruleValidate:{Name:[{required:!0,message:"名称不能为空",trigger:"blur"}],Http:[{required:!0,message:"Http协议不能为空",trigger:"blur"}],Token:[{required:!0,message:"Token不能为空",trigger:"blur"}],robot_wxid:[{required:!0,message:"微信ID能为空",trigger:"blur"}]}}},methods:{AddOrUpdate:function(t){this.addOrUpdateModal.show=!0,t.Id?(this.addOrUpdateModal.data=JSON.parse(JSON.stringify(t)),this.addOrUpdateModal.title="修改VLW"):(this.addOrUpdateModal.data={Enable:!0},this.addOrUpdateModal.title="添加VLW")},delete:function(t){var a=this;this.$Modal.confirm({title:"删除确认",content:"确定删除吗？删除后，通过该VLW提交的账号可能得不到系统推送，该操作不可逆。",okText:"是的，老子要删除",cancelText:"算了，不删了",closable:!0,onOk:function(){i(t).then((function(t){a.getList()}))}})},submitVLW:function(t){var a=this,e=this;this.$refs[t].validate((function(t){t&&n(a.addOrUpdateModal.data).then((function(t){t&&(e.$Message.success(a.addOrUpdateModal.title+"成功！"),e.addOrUpdateModal.show=!1,e.getList())}))}))},getList:function(t){var a=this;l().then((function(e){a.datas=e,t&&a.$Message.success("刷新成功！")}))}},mounted:function(){this.getList()}},p=s,c=(e("412c"),e("2877")),u=Object(c["a"])(p,d,r,!1,null,null,null);a["default"]=u.exports}}]);